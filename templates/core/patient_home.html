{% load static %}
<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ system_name }} - Ãrea do Paciente</title>
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
</head>
<body>
    <div class="container">
        <div class="header">
            <div>
                <h1>ğŸ‘¤ Ãrea do Paciente - {{ system_name }}</h1>
                <p>OlÃ¡, {{ user_name }}!</p>
                <p style="color: #999; font-size: 14px;">{{ user_email }}</p>
            </div>
            <div class="user-info">
                <a href="{% url 'logout' %}" class="logout-btn">Sair</a>
            </div>
        </div>

        <div class="nav-menu">
            <a href="{% url 'patient_home' %}" class="active">ğŸ  Home</a>
            <a href="{% url 'marcar_consulta' %}">ğŸ“… Agendar Consulta</a>
            <a href="{% url 'listar_consultas' %}">ğŸ¥ As Minhas Consultas</a>
            <a href="{% url 'listar_faturas' %}">ğŸ’° Faturas</a>
            <a href="{% url 'update_paciente_details' %}">ğŸ‘¤ Meu Perfil</a>
        </div>

        {% if not request.user.email_verified %}
        <div class="alert warning" style="background: #fff3cd; border-left: 4px solid #ffc107; padding: 15px; margin: 20px 0; border-radius: 8px;">
            <h4 style="margin: 0 0 10px 0; color: #856404;">âš ï¸ Email nÃ£o verificado</h4>
            <p style="margin: 0 0 10px 0; color: #856404;">
                Por favor, verifique o seu email para ativar todas as funcionalidades da sua conta.
            </p>
            <a href="{% url 'resend_verification' %}" class="btn btn-warning" style="background: #ffc107; color: #000; padding: 8px 16px; text-decoration: none; border-radius: 5px; display: inline-block; font-size: 14px;">
                ğŸ“§ Reenviar Email de VerificaÃ§Ã£o
            </a>
        </div>
        {% endif %}

        <div class="stats-grid">
            <div class="stat-card variant-teal">
                <h3>ğŸ¥ Total de Consultas</h3>
                <div class="number">{{ consultas_count }}</div>
            </div>
            <div class="stat-card variant-green">
                <h3>ğŸ’° Faturas</h3>
                <div class="number">{{ faturas_count }}</div>
            </div>
        </div>

        <div class="card-grid">
            <div class="action-card">
                <h3>ğŸ“… Agendar Consulta</h3>
                <p>Escolhe data, especialidade e mÃ©dico disponÃ­vel para marcar a tua consulta.</p>
                <a href="{% url 'marcar_consulta' %}" class="btn btn-primary">Agendar Nova Consulta â†’</a>
            </div>

            <div class="action-card">
                <h3>ğŸ¥As Minhas Consultas</h3>
                <p>Visualiza e gere as tuas consultas marcadas. Podes cancelar consultas se necessÃ¡rio.</p>
                <a href="{% url 'listar_consultas' %}" class="btn btn-primary">Ver Consultas â†’</a>
            </div>

            <div class="action-card">
                <h3>ğŸ’° Faturas</h3>
                <p>Consulta e paga faturas associadas Ã s tuas consultas mÃ©dicas.</p>
                <a href="{% url 'listar_faturas' %}" class="btn btn-primary">Ver Faturas â†’</a>
            </div>
        </div>
    </div>
</body>
</html>
